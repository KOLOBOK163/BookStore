{"ast":null,"code":"var _jsxFileName = \"E:\\\\ZALUPA\\\\ZALUPA\\\\main-app\\\\src\\\\components\\\\admin\\\\AdminPanel.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useBooks } from '../../hooks/useBooks';\nimport { useWarehouses } from '../../hooks/useWarehouses';\nimport { distributeBook } from '../../services/api';\nimport { toast } from 'react-toastify';\nimport './AdminPanel.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminPanel = () => {\n  _s();\n  const {\n    books,\n    fetchBooks,\n    loading: booksLoading,\n    error: booksError,\n    createBook,\n    updateBook,\n    deleteBook\n  } = useBooks();\n  const {\n    warehouses,\n    fetchWarehouses,\n    createNewWarehouse,\n    updateExistingWarehouse,\n    deleteExistingWarehouse,\n    loading: warehousesLoading,\n    error: warehousesError\n  } = useWarehouses();\n  const [newBook, setNewBook] = useState({\n    title: '',\n    author: '',\n    price: '',\n    description: '',\n    publisher: '',\n    publicationYear: '',\n    isbn: '',\n    stock: '',\n    category: ''\n  });\n  const [newWarehouse, setNewWarehouse] = useState({\n    name: '',\n    location: ''\n  });\n  const [distribution, setDistribution] = useState({\n    bookId: '',\n    warehouseId: '',\n    stock: ''\n  });\n  const [coverImage, setCoverImage] = useState(null);\n  const [formErrors, setFormErrors] = useState({});\n  const [warehouseFormErrors, setWarehouseFormErrors] = useState({});\n  const [editingBookId, setEditingBookId] = useState(null);\n  const [editingWarehouseId, setEditingWarehouseId] = useState(null);\n  const [currentBookPage, setCurrentBookPage] = useState(1);\n  const [currentWarehousePage, setCurrentWarehousePage] = useState(1);\n  const itemsPerPage = 5;\n  useEffect(() => {\n    fetchBooks();\n    fetchWarehouses();\n  }, []);\n\n  // Book Form Validation\n  const validateBookForm = () => {\n    const errors = {};\n    if (!newBook.title.trim()) errors.title = 'Название не может быть пустым';\n    if (!newBook.author.trim()) errors.author = 'Автор не может быть пустым';\n    if (!newBook.price || parseFloat(newBook.price) <= 0) errors.price = 'Цена должна быть больше 0';\n    if (!newBook.publicationYear || parseInt(newBook.publicationYear) <= 0) errors.publicationYear = 'Год издания должен быть больше 0';\n    if (newBook.isbn && newBook.isbn.length !== 13) errors.isbn = 'ISBN должен содержать 13 символов';\n    if (!newBook.stock || parseInt(newBook.stock) < 0) errors.stock = 'Количество на складе не может быть меньше 0';\n    if (!newBook.category.trim()) errors.category = 'Категория не может быть пустой';\n    setFormErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  // Warehouse Form Validation\n  const validateWarehouseForm = () => {\n    const errors = {};\n    if (!newWarehouse.name.trim()) errors.name = 'Название склада не может быть пустым';\n    setWarehouseFormErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n  const handleBookInputChange = e => {\n    setNewBook({\n      ...newBook,\n      [e.target.name]: e.target.value\n    });\n    setFormErrors({\n      ...formErrors,\n      [e.target.name]: ''\n    });\n  };\n  const handleWarehouseInputChange = e => {\n    setNewWarehouse({\n      ...newWarehouse,\n      [e.target.name]: e.target.value\n    });\n    setWarehouseFormErrors({\n      ...warehouseFormErrors,\n      [e.target.name]: ''\n    });\n  };\n  const handleDistributionChange = e => {\n    setDistribution({\n      ...distribution,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    if (file && file.type.startsWith('image/') && file.size < 5 * 1024 * 1024) {\n      setCoverImage(file);\n    } else {\n      setCoverImage(null);\n      alert('Пожалуйста, выберите изображение размером менее 5MB');\n    }\n  };\n  const handleAddOrUpdateBook = async e => {\n    e.preventDefault();\n    if (!validateBookForm()) return;\n    const bookData = {\n      ...newBook,\n      price: parseFloat(newBook.price),\n      publicationYear: parseInt(newBook.publicationYear),\n      stock: parseInt(newBook.stock)\n    };\n    try {\n      if (editingBookId) {\n        await updateBook(editingBookId, bookData, coverImage);\n        setEditingBookId(null);\n      } else {\n        await createBook(bookData, coverImage);\n      }\n      setNewBook({\n        title: '',\n        author: '',\n        price: '',\n        description: '',\n        publisher: '',\n        publicationYear: '',\n        isbn: '',\n        stock: '',\n        category: ''\n      });\n      setCoverImage(null);\n      setCurrentBookPage(1);\n      await fetchBooks();\n    } catch (err) {\n      console.error('Ошибка добавления/обновления книги:', err);\n    }\n  };\n  const handleAddOrUpdateWarehouse = async e => {\n    e.preventDefault();\n    if (!validateWarehouseForm()) return;\n    try {\n      if (editingWarehouseId) {\n        await updateExistingWarehouse(editingWarehouseId, newWarehouse);\n        setEditingWarehouseId(null);\n      } else {\n        await createNewWarehouse(newWarehouse);\n      }\n      setNewWarehouse({\n        name: '',\n        location: ''\n      });\n      setCurrentWarehousePage(1);\n      await fetchWarehouses();\n    } catch (err) {\n      console.error('Ошибка добавления/обновления склада:', err);\n    }\n  };\n  const handleDistributeBook = async e => {\n    e.preventDefault();\n    if (!distribution.bookId || !distribution.warehouseId || !distribution.stock || parseInt(distribution.stock) <= 0) {\n      toast.error('Пожалуйста, выберите книгу, склад и укажите количество больше 0');\n      return;\n    }\n    try {\n      await distributeBook(distribution.bookId, distribution.warehouseId, parseInt(distribution.stock));\n      toast.success('Книга успешно распределена на склад!');\n      setDistribution({\n        bookId: '',\n        warehouseId: '',\n        stock: ''\n      });\n      await fetchBooks();\n      await fetchWarehouses();\n    } catch (err) {\n      var _err$response, _err$response$data;\n      toast.error('Ошибка распределения книги: ' + (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Неизвестная ошибка'));\n      console.error(err);\n    }\n  };\n  const handleEditBook = book => {\n    setNewBook({\n      title: book.title,\n      author: book.author,\n      price: book.price.toString(),\n      description: book.description || '',\n      publisher: book.publisher || '',\n      publicationYear: book.publicationYear.toString(),\n      isbn: book.isbn || '',\n      stock: book.stock.toString(),\n      category: book.category\n    });\n    setEditingBookId(book.id);\n    setCoverImage(null);\n  };\n  const handleEditWarehouse = warehouse => {\n    setNewWarehouse({\n      name: warehouse.name,\n      location: warehouse.location || ''\n    });\n    setEditingWarehouseId(warehouse.id);\n  };\n  const handleDeleteBook = async id => {\n    if (window.confirm('Вы уверены, что хотите удалить эту книгу?')) {\n      try {\n        await deleteBook(id);\n        setCurrentBookPage(1);\n        await fetchBooks();\n      } catch (err) {\n        console.error('Ошибка удаления книги:', err);\n      }\n    }\n  };\n  const handleDeleteWarehouse = async id => {\n    if (window.confirm('Вы уверены, что хотите удалить этот склад?')) {\n      try {\n        await deleteExistingWarehouse(id);\n        setCurrentWarehousePage(1);\n        await fetchWarehouses();\n      } catch (err) {\n        console.error('Ошибка удаления склада:', err);\n      }\n    }\n  };\n  const handleCancelEditBook = () => {\n    setNewBook({\n      title: '',\n      author: '',\n      price: '',\n      description: '',\n      publisher: '',\n      publicationYear: '',\n      isbn: '',\n      stock: '',\n      category: ''\n    });\n    setCoverImage(null);\n    setEditingBookId(null);\n    setFormErrors({});\n  };\n  const handleCancelEditWarehouse = () => {\n    setNewWarehouse({\n      name: '',\n      location: ''\n    });\n    setEditingWarehouseId(null);\n    setWarehouseFormErrors({});\n  };\n  if (booksLoading || warehousesLoading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"admin-loading\",\n    children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 241,\n    columnNumber: 49\n  }, this);\n  if (booksError) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"admin-error\",\n    children: booksError\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 242,\n    columnNumber: 26\n  }, this);\n  if (warehousesError) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"admin-error\",\n    children: warehousesError\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 243,\n    columnNumber: 31\n  }, this);\n\n  // Book Pagination\n  const indexOfLastBook = currentBookPage * itemsPerPage;\n  const indexOfFirstBook = indexOfLastBook - itemsPerPage;\n  const currentBooks = books.slice(indexOfFirstBook, indexOfLastBook);\n  const totalBookPages = Math.ceil(books.length / itemsPerPage);\n\n  // Warehouse Pagination\n  const indexOfLastWarehouse = currentWarehousePage * itemsPerPage;\n  const indexOfFirstWarehouse = indexOfLastWarehouse - itemsPerPage;\n  const currentWarehouses = warehouses.slice(indexOfFirstWarehouse, indexOfLastWarehouse);\n  const totalWarehousePages = Math.ceil(warehouses.length / itemsPerPage);\n  const paginateBooks = pageNumber => setCurrentBookPage(pageNumber);\n  const paginateWarehouses = pageNumber => setCurrentWarehousePage(pageNumber);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u041F\\u0430\\u043D\\u0435\\u043B\\u044C \\u0443\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043A\\u043D\\u0438\\u0433\\u0430\\u043C\\u0438\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleAddOrUpdateBook,\n      className: \"admin-form\",\n      encType: \"multipart/form-data\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"title\",\n          placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",\n          value: newBook.title,\n          onChange: handleBookInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this), formErrors.title && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"admin-error\",\n          children: formErrors.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"author\",\n          placeholder: \"\\u0410\\u0432\\u0442\\u043E\\u0440\",\n          value: newBook.author,\n          onChange: handleBookInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this), formErrors.author && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"admin-error\",\n          children: formErrors.author\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          step: \"0.01\",\n          name: \"price\",\n          placeholder: \"\\u0426\\u0435\\u043D\\u0430\",\n          value: newBook.price,\n          onChange: handleBookInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this), formErrors.price && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"admin-error\",\n          children: formErrors.price\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"description\",\n          placeholder: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\",\n          value: newBook.description,\n          onChange: handleBookInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"publisher\",\n          placeholder: \"\\u0418\\u0437\\u0434\\u0430\\u0442\\u0435\\u043B\\u044C\",\n          value: newBook.publisher,\n          onChange: handleBookInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"publicationYear\",\n          placeholder: \"\\u0413\\u043E\\u0434 \\u0438\\u0437\\u0434\\u0430\\u043D\\u0438\\u044F\",\n          value: newBook.publicationYear,\n          onChange: handleBookInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this), formErrors.publicationYear && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"admin-error\",\n          children: formErrors.publicationYear\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 42\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"isbn\",\n          placeholder: \"ISBN (13 \\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u043E\\u0432)\",\n          value: newBook.isbn,\n          onChange: handleBookInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }, this), formErrors.isbn && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"admin-error\",\n          children: formErrors.isbn\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"stock\",\n          placeholder: \"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u043D\\u0430 \\u0441\\u043A\\u043B\\u0430\\u0434\\u0435\",\n          value: newBook.stock,\n          onChange: handleBookInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this), formErrors.stock && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"admin-error\",\n          children: formErrors.stock\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"category\",\n          placeholder: \"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\",\n          value: newBook.category,\n          onChange: handleBookInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this), formErrors.category && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"admin-error\",\n          children: formErrors.category\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 35\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          name: \"coverImage\",\n          accept: \"image/*\",\n          onChange: handleFileChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: editingBookId ? 'Обновить книгу' : 'Добавить книгу'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 11\n        }, this), editingBookId && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleCancelEditBook,\n          className: \"cancel-button\",\n          children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-book-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043A\\u043D\\u0438\\u0433\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 9\n      }, this), currentBooks.map(book => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-book-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [book.title, \" - \", book.author, \" (\", book.price, \" \\u20BD) - \", book.category, \" - \\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E: \", book.stock]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-book-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleEditBook(book),\n            className: \"edit-button\",\n            children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDeleteBook(book.id),\n            className: \"delete-button\",\n            children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 13\n        }, this)]\n      }, book.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagination\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => paginateBooks(currentBookPage - 1),\n          disabled: currentBookPage === 1,\n          children: \"\\u041F\\u0440\\u0435\\u0434\\u044B\\u0434\\u0443\\u0449\\u0430\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 11\n        }, this), Array.from({\n          length: totalBookPages\n        }, (_, i) => i + 1).map(number => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => paginateBooks(number),\n          className: currentBookPage === number ? 'active' : '',\n          children: number\n        }, number, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => paginateBooks(currentBookPage + 1),\n          disabled: currentBookPage === totalBookPages,\n          children: \"\\u0421\\u043B\\u0435\\u0434\\u0443\\u044E\\u0449\\u0430\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0441\\u043A\\u043B\\u0430\\u0434\\u0430\\u043C\\u0438\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleAddOrUpdateWarehouse,\n      className: \"admin-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"name\",\n          placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0441\\u043A\\u043B\\u0430\\u0434\\u0430\",\n          value: newWarehouse.name,\n          onChange: handleWarehouseInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 11\n        }, this), warehouseFormErrors.name && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"admin-error\",\n          children: warehouseFormErrors.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 40\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"location\",\n          placeholder: \"\\u041C\\u0435\\u0441\\u0442\\u043E\\u043F\\u043E\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u0435\",\n          value: newWarehouse.location,\n          onChange: handleWarehouseInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: editingWarehouseId ? 'Обновить склад' : 'Добавить склад'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 11\n        }, this), editingWarehouseId && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleCancelEditWarehouse,\n          className: \"cancel-button\",\n          children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-warehouse-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u0441\\u043A\\u043B\\u0430\\u0434\\u043E\\u0432\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 9\n      }, this), currentWarehouses.map(warehouse => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-warehouse-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [warehouse.name, \" \", warehouse.location ? `- ${warehouse.location}` : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-warehouse-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleEditWarehouse(warehouse),\n            className: \"edit-button\",\n            children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDeleteWarehouse(warehouse.id),\n            className: \"delete-button\",\n            children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 13\n        }, this)]\n      }, warehouse.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagination\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => paginateWarehouses(currentWarehousePage - 1),\n          disabled: currentWarehousePage === 1,\n          children: \"\\u041F\\u0440\\u0435\\u0434\\u044B\\u0434\\u0443\\u0449\\u0430\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 11\n        }, this), Array.from({\n          length: totalWarehousePages\n        }, (_, i) => i + 1).map(number => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => paginateWarehouses(number),\n          className: currentWarehousePage === number ? 'active' : '',\n          children: number\n        }, number, false, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => paginateWarehouses(currentWarehousePage + 1),\n          disabled: currentWarehousePage === totalWarehousePages,\n          children: \"\\u0421\\u043B\\u0435\\u0434\\u0443\\u044E\\u0449\\u0430\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 455,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"\\u0420\\u0430\\u0441\\u043F\\u0440\\u0435\\u0434\\u0435\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043A\\u043D\\u0438\\u0433 \\u043F\\u043E \\u0441\\u043A\\u043B\\u0430\\u0434\\u0430\\u043C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 498,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleDistributeBook,\n      className: \"admin-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"bookId\",\n          value: distribution.bookId,\n          onChange: handleDistributionChange,\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043A\\u043D\\u0438\\u0433\\u0443\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 13\n          }, this), books.map(book => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: book.id,\n            children: book.title\n          }, book.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 509,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"warehouseId\",\n          value: distribution.warehouseId,\n          onChange: handleDistributionChange,\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0441\\u043A\\u043B\\u0430\\u0434\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 522,\n            columnNumber: 13\n          }, this), warehouses.map(warehouse => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: warehouse.id,\n            children: warehouse.name\n          }, warehouse.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 524,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"stock\",\n          placeholder: \"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E\",\n          value: distribution.stock,\n          onChange: handleDistributionChange,\n          required: true,\n          min: \"1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"\\u0420\\u0430\\u0441\\u043F\\u0440\\u0435\\u0434\\u0435\\u043B\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 541,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 499,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 261,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminPanel, \"bCbsQ2kA2z4dVd7J+jeMjkBxuTw=\", false, function () {\n  return [useBooks, useWarehouses];\n});\n_c = AdminPanel;\nexport default AdminPanel;\nvar _c;\n$RefreshReg$(_c, \"AdminPanel\");","map":{"version":3,"names":["React","useState","useEffect","useBooks","useWarehouses","distributeBook","toast","jsxDEV","_jsxDEV","AdminPanel","_s","books","fetchBooks","loading","booksLoading","error","booksError","createBook","updateBook","deleteBook","warehouses","fetchWarehouses","createNewWarehouse","updateExistingWarehouse","deleteExistingWarehouse","warehousesLoading","warehousesError","newBook","setNewBook","title","author","price","description","publisher","publicationYear","isbn","stock","category","newWarehouse","setNewWarehouse","name","location","distribution","setDistribution","bookId","warehouseId","coverImage","setCoverImage","formErrors","setFormErrors","warehouseFormErrors","setWarehouseFormErrors","editingBookId","setEditingBookId","editingWarehouseId","setEditingWarehouseId","currentBookPage","setCurrentBookPage","currentWarehousePage","setCurrentWarehousePage","itemsPerPage","validateBookForm","errors","trim","parseFloat","parseInt","length","Object","keys","validateWarehouseForm","handleBookInputChange","e","target","value","handleWarehouseInputChange","handleDistributionChange","handleFileChange","file","files","type","startsWith","size","alert","handleAddOrUpdateBook","preventDefault","bookData","err","console","handleAddOrUpdateWarehouse","handleDistributeBook","success","_err$response","_err$response$data","response","data","message","handleEditBook","book","toString","id","handleEditWarehouse","warehouse","handleDeleteBook","window","confirm","handleDeleteWarehouse","handleCancelEditBook","handleCancelEditWarehouse","className","children","fileName","_jsxFileName","lineNumber","columnNumber","indexOfLastBook","indexOfFirstBook","currentBooks","slice","totalBookPages","Math","ceil","indexOfLastWarehouse","indexOfFirstWarehouse","currentWarehouses","totalWarehousePages","paginateBooks","pageNumber","paginateWarehouses","onSubmit","encType","placeholder","onChange","required","step","accept","onClick","map","disabled","Array","from","_","i","number","min","_c","$RefreshReg$"],"sources":["E:/ZALUPA/ZALUPA/main-app/src/components/admin/AdminPanel.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useBooks } from '../../hooks/useBooks';\r\nimport { useWarehouses } from '../../hooks/useWarehouses';\r\nimport { distributeBook } from '../../services/api';\r\nimport { toast } from 'react-toastify';\r\nimport './AdminPanel.css';\r\n\r\nconst AdminPanel = () => {\r\n  const { books, fetchBooks, loading: booksLoading, error: booksError, createBook, updateBook, deleteBook } = useBooks();\r\n  const { warehouses, fetchWarehouses, createNewWarehouse, updateExistingWarehouse, deleteExistingWarehouse, loading: warehousesLoading, error: warehousesError } = useWarehouses();\r\n\r\n  const [newBook, setNewBook] = useState({\r\n    title: '',\r\n    author: '',\r\n    price: '',\r\n    description: '',\r\n    publisher: '',\r\n    publicationYear: '',\r\n    isbn: '',\r\n    stock: '',\r\n    category: '',\r\n  });\r\n\r\n  const [newWarehouse, setNewWarehouse] = useState({\r\n    name: '',\r\n    location: ''\r\n  });\r\n\r\n  const [distribution, setDistribution] = useState({\r\n    bookId: '',\r\n    warehouseId: '',\r\n    stock: ''\r\n  });\r\n\r\n  const [coverImage, setCoverImage] = useState(null);\r\n  const [formErrors, setFormErrors] = useState({});\r\n  const [warehouseFormErrors, setWarehouseFormErrors] = useState({});\r\n  const [editingBookId, setEditingBookId] = useState(null);\r\n  const [editingWarehouseId, setEditingWarehouseId] = useState(null);\r\n  const [currentBookPage, setCurrentBookPage] = useState(1);\r\n  const [currentWarehousePage, setCurrentWarehousePage] = useState(1);\r\n  const itemsPerPage = 5;\r\n\r\n  useEffect(() => {\r\n    fetchBooks();\r\n    fetchWarehouses();\r\n  }, []);\r\n\r\n  // Book Form Validation\r\n  const validateBookForm = () => {\r\n    const errors = {};\r\n    if (!newBook.title.trim()) errors.title = 'Название не может быть пустым';\r\n    if (!newBook.author.trim()) errors.author = 'Автор не может быть пустым';\r\n    if (!newBook.price || parseFloat(newBook.price) <= 0) errors.price = 'Цена должна быть больше 0';\r\n    if (!newBook.publicationYear || parseInt(newBook.publicationYear) <= 0) errors.publicationYear = 'Год издания должен быть больше 0';\r\n    if (newBook.isbn && newBook.isbn.length !== 13) errors.isbn = 'ISBN должен содержать 13 символов';\r\n    if (!newBook.stock || parseInt(newBook.stock) < 0) errors.stock = 'Количество на складе не может быть меньше 0';\r\n    if (!newBook.category.trim()) errors.category = 'Категория не может быть пустой';\r\n    setFormErrors(errors);\r\n    return Object.keys(errors).length === 0;\r\n  };\r\n\r\n  // Warehouse Form Validation\r\n  const validateWarehouseForm = () => {\r\n    const errors = {};\r\n    if (!newWarehouse.name.trim()) errors.name = 'Название склада не может быть пустым';\r\n    setWarehouseFormErrors(errors);\r\n    return Object.keys(errors).length === 0;\r\n  };\r\n\r\n  const handleBookInputChange = (e) => {\r\n    setNewBook({ ...newBook, [e.target.name]: e.target.value });\r\n    setFormErrors({ ...formErrors, [e.target.name]: '' });\r\n  };\r\n\r\n  const handleWarehouseInputChange = (e) => {\r\n    setNewWarehouse({ ...newWarehouse, [e.target.name]: e.target.value });\r\n    setWarehouseFormErrors({ ...warehouseFormErrors, [e.target.name]: '' });\r\n  };\r\n\r\n  const handleDistributionChange = (e) => {\r\n    setDistribution({ ...distribution, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file && file.type.startsWith('image/') && file.size < 5 * 1024 * 1024) {\r\n      setCoverImage(file);\r\n    } else {\r\n      setCoverImage(null);\r\n      alert('Пожалуйста, выберите изображение размером менее 5MB');\r\n    }\r\n  };\r\n\r\n  const handleAddOrUpdateBook = async (e) => {\r\n    e.preventDefault();\r\n    if (!validateBookForm()) return;\r\n\r\n    const bookData = {\r\n      ...newBook,\r\n      price: parseFloat(newBook.price),\r\n      publicationYear: parseInt(newBook.publicationYear),\r\n      stock: parseInt(newBook.stock),\r\n    };\r\n\r\n    try {\r\n      if (editingBookId) {\r\n        await updateBook(editingBookId, bookData, coverImage);\r\n        setEditingBookId(null);\r\n      } else {\r\n        await createBook(bookData, coverImage);\r\n      }\r\n      setNewBook({\r\n        title: '',\r\n        author: '',\r\n        price: '',\r\n        description: '',\r\n        publisher: '',\r\n        publicationYear: '',\r\n        isbn: '',\r\n        stock: '',\r\n        category: '',\r\n      });\r\n      setCoverImage(null);\r\n      setCurrentBookPage(1);\r\n      await fetchBooks();\r\n    } catch (err) {\r\n      console.error('Ошибка добавления/обновления книги:', err);\r\n    }\r\n  };\r\n\r\n  const handleAddOrUpdateWarehouse = async (e) => {\r\n    e.preventDefault();\r\n    if (!validateWarehouseForm()) return;\r\n\r\n    try {\r\n      if (editingWarehouseId) {\r\n        await updateExistingWarehouse(editingWarehouseId, newWarehouse);\r\n        setEditingWarehouseId(null);\r\n      } else {\r\n        await createNewWarehouse(newWarehouse);\r\n      }\r\n      setNewWarehouse({ name: '', location: '' });\r\n      setCurrentWarehousePage(1);\r\n      await fetchWarehouses();\r\n    } catch (err) {\r\n      console.error('Ошибка добавления/обновления склада:', err);\r\n    }\r\n  };\r\n\r\n  const handleDistributeBook = async (e) => {\r\n    e.preventDefault();\r\n    if (!distribution.bookId || !distribution.warehouseId || !distribution.stock || parseInt(distribution.stock) <= 0) {\r\n      toast.error('Пожалуйста, выберите книгу, склад и укажите количество больше 0');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await distributeBook(distribution.bookId, distribution.warehouseId, parseInt(distribution.stock));\r\n      toast.success('Книга успешно распределена на склад!');\r\n      setDistribution({ bookId: '', warehouseId: '', stock: '' });\r\n      await fetchBooks();\r\n      await fetchWarehouses();\r\n    } catch (err) {\r\n      toast.error('Ошибка распределения книги: ' + (err.response?.data?.message || 'Неизвестная ошибка'));\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const handleEditBook = (book) => {\r\n    setNewBook({\r\n      title: book.title,\r\n      author: book.author,\r\n      price: book.price.toString(),\r\n      description: book.description || '',\r\n      publisher: book.publisher || '',\r\n      publicationYear: book.publicationYear.toString(),\r\n      isbn: book.isbn || '',\r\n      stock: book.stock.toString(),\r\n      category: book.category,\r\n    });\r\n    setEditingBookId(book.id);\r\n    setCoverImage(null);\r\n  };\r\n\r\n  const handleEditWarehouse = (warehouse) => {\r\n    setNewWarehouse({\r\n      name: warehouse.name,\r\n      location: warehouse.location || '',\r\n    });\r\n    setEditingWarehouseId(warehouse.id);\r\n  };\r\n\r\n  const handleDeleteBook = async (id) => {\r\n    if (window.confirm('Вы уверены, что хотите удалить эту книгу?')) {\r\n      try {\r\n        await deleteBook(id);\r\n        setCurrentBookPage(1);\r\n        await fetchBooks();\r\n      } catch (err) {\r\n        console.error('Ошибка удаления книги:', err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleDeleteWarehouse = async (id) => {\r\n    if (window.confirm('Вы уверены, что хотите удалить этот склад?')) {\r\n      try {\r\n        await deleteExistingWarehouse(id);\r\n        setCurrentWarehousePage(1);\r\n        await fetchWarehouses();\r\n      } catch (err) {\r\n        console.error('Ошибка удаления склада:', err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleCancelEditBook = () => {\r\n    setNewBook({\r\n      title: '',\r\n      author: '',\r\n      price: '',\r\n      description: '',\r\n      publisher: '',\r\n      publicationYear: '',\r\n      isbn: '',\r\n      stock: '',\r\n      category: '',\r\n    });\r\n    setCoverImage(null);\r\n    setEditingBookId(null);\r\n    setFormErrors({});\r\n  };\r\n\r\n  const handleCancelEditWarehouse = () => {\r\n    setNewWarehouse({ name: '', location: '' });\r\n    setEditingWarehouseId(null);\r\n    setWarehouseFormErrors({});\r\n  };\r\n\r\n  if (booksLoading || warehousesLoading) return <p className=\"admin-loading\">Загрузка...</p>;\r\n  if (booksError) return <p className=\"admin-error\">{booksError}</p>;\r\n  if (warehousesError) return <p className=\"admin-error\">{warehousesError}</p>;\r\n\r\n  // Book Pagination\r\n  const indexOfLastBook = currentBookPage * itemsPerPage;\r\n  const indexOfFirstBook = indexOfLastBook - itemsPerPage;\r\n  const currentBooks = books.slice(indexOfFirstBook, indexOfLastBook);\r\n  const totalBookPages = Math.ceil(books.length / itemsPerPage);\r\n\r\n  // Warehouse Pagination\r\n  const indexOfLastWarehouse = currentWarehousePage * itemsPerPage;\r\n  const indexOfFirstWarehouse = indexOfLastWarehouse - itemsPerPage;\r\n  const currentWarehouses = warehouses.slice(indexOfFirstWarehouse, indexOfLastWarehouse);\r\n  const totalWarehousePages = Math.ceil(warehouses.length / itemsPerPage);\r\n\r\n  const paginateBooks = (pageNumber) => setCurrentBookPage(pageNumber);\r\n  const paginateWarehouses = (pageNumber) => setCurrentWarehousePage(pageNumber);\r\n\r\n  return (\r\n    <div className=\"admin-container\">\r\n      <h2>Панель управления</h2>\r\n\r\n      {/* Book Management Section */}\r\n      <h3>Управление книгами</h3>\r\n      <form onSubmit={handleAddOrUpdateBook} className=\"admin-form\" encType=\"multipart/form-data\">\r\n        <div>\r\n          <input\r\n            type=\"text\"\r\n            name=\"title\"\r\n            placeholder=\"Название\"\r\n            value={newBook.title}\r\n            onChange={handleBookInputChange}\r\n            required\r\n          />\r\n          {formErrors.title && <p className=\"admin-error\">{formErrors.title}</p>}\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"text\"\r\n            name=\"author\"\r\n            placeholder=\"Автор\"\r\n            value={newBook.author}\r\n            onChange={handleBookInputChange}\r\n            required\r\n          />\r\n          {formErrors.author && <p className=\"admin-error\">{formErrors.author}</p>}\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"number\"\r\n            step=\"0.01\"\r\n            name=\"price\"\r\n            placeholder=\"Цена\"\r\n            value={newBook.price}\r\n            onChange={handleBookInputChange}\r\n            required\r\n          />\r\n          {formErrors.price && <p className=\"admin-error\">{formErrors.price}</p>}\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"text\"\r\n            name=\"description\"\r\n            placeholder=\"Описание\"\r\n            value={newBook.description}\r\n            onChange={handleBookInputChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"text\"\r\n            name=\"publisher\"\r\n            placeholder=\"Издатель\"\r\n            value={newBook.publisher}\r\n            onChange={handleBookInputChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"number\"\r\n            name=\"publicationYear\"\r\n            placeholder=\"Год издания\"\r\n            value={newBook.publicationYear}\r\n            onChange={handleBookInputChange}\r\n            required\r\n          />\r\n          {formErrors.publicationYear && <p className=\"admin-error\">{formErrors.publicationYear}</p>}\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"text\"\r\n            name=\"isbn\"\r\n            placeholder=\"ISBN (13 символов)\"\r\n            value={newBook.isbn}\r\n            onChange={handleBookInputChange}\r\n          />\r\n          {formErrors.isbn && <p className=\"admin-error\">{formErrors.isbn}</p>}\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"number\"\r\n            name=\"stock\"\r\n            placeholder=\"Количество на складе\"\r\n            value={newBook.stock}\r\n            onChange={handleBookInputChange}\r\n            required\r\n          />\r\n          {formErrors.stock && <p className=\"admin-error\">{formErrors.stock}</p>}\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"text\"\r\n            name=\"category\"\r\n            placeholder=\"Категория\"\r\n            value={newBook.category}\r\n            onChange={handleBookInputChange}\r\n            required\r\n          />\r\n          {formErrors.category && <p className=\"admin-error\">{formErrors.category}</p>}\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"file\"\r\n            name=\"coverImage\"\r\n            accept=\"image/*\"\r\n            onChange={handleFileChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-buttons\">\r\n          <button type=\"submit\">{editingBookId ? 'Обновить книгу' : 'Добавить книгу'}</button>\r\n          {editingBookId && (\r\n            <button type=\"button\" onClick={handleCancelEditBook} className=\"cancel-button\">\r\n              Отмена\r\n            </button>\r\n          )}\r\n        </div>\r\n      </form>\r\n\r\n      <div className=\"admin-book-list\">\r\n        <h4>Список книг</h4>\r\n        {currentBooks.map((book) => (\r\n          <div key={book.id} className=\"admin-book-item\">\r\n            <p>\r\n              {book.title} - {book.author} ({book.price} ₽) - {book.category} - Количество: {book.stock}\r\n            </p>\r\n            <div className=\"admin-book-actions\">\r\n              <button onClick={() => handleEditBook(book)} className=\"edit-button\">\r\n                Редактировать\r\n              </button>\r\n              <button onClick={() => handleDeleteBook(book.id)} className=\"delete-button\">\r\n                Удалить\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n        <div className=\"pagination\">\r\n          <button\r\n            onClick={() => paginateBooks(currentBookPage - 1)}\r\n            disabled={currentBookPage === 1}\r\n          >\r\n            Предыдущая\r\n          </button>\r\n          {Array.from({ length: totalBookPages }, (_, i) => i + 1).map((number) => (\r\n            <button\r\n              key={number}\r\n              onClick={() => paginateBooks(number)}\r\n              className={currentBookPage === number ? 'active' : ''}\r\n            >\r\n              {number}\r\n            </button>\r\n          ))}\r\n          <button\r\n            onClick={() => paginateBooks(currentBookPage + 1)}\r\n            disabled={currentBookPage === totalBookPages}\r\n          >\r\n            Следующая\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Warehouse Management Section */}\r\n      <h3>Управление складами</h3>\r\n      <form onSubmit={handleAddOrUpdateWarehouse} className=\"admin-form\">\r\n        <div>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            placeholder=\"Название склада\"\r\n            value={newWarehouse.name}\r\n            onChange={handleWarehouseInputChange}\r\n            required\r\n          />\r\n          {warehouseFormErrors.name && <p className=\"admin-error\">{warehouseFormErrors.name}</p>}\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"text\"\r\n            name=\"location\"\r\n            placeholder=\"Местоположение\"\r\n            value={newWarehouse.location}\r\n            onChange={handleWarehouseInputChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-buttons\">\r\n          <button type=\"submit\">{editingWarehouseId ? 'Обновить склад' : 'Добавить склад'}</button>\r\n          {editingWarehouseId && (\r\n            <button type=\"button\" onClick={handleCancelEditWarehouse} className=\"cancel-button\">\r\n              Отмена\r\n            </button>\r\n          )}\r\n        </div>\r\n      </form>\r\n\r\n      <div className=\"admin-warehouse-list\">\r\n        <h4>Список складов</h4>\r\n        {currentWarehouses.map((warehouse) => (\r\n          <div key={warehouse.id} className=\"admin-warehouse-item\">\r\n            <p>\r\n              {warehouse.name} {warehouse.location ? `- ${warehouse.location}` : ''}\r\n            </p>\r\n            <div className=\"admin-warehouse-actions\">\r\n              <button onClick={() => handleEditWarehouse(warehouse)} className=\"edit-button\">\r\n                Редактировать\r\n              </button>\r\n              <button onClick={() => handleDeleteWarehouse(warehouse.id)} className=\"delete-button\">\r\n                Удалить\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n        <div className=\"pagination\">\r\n          <button\r\n            onClick={() => paginateWarehouses(currentWarehousePage - 1)}\r\n            disabled={currentWarehousePage === 1}\r\n          >\r\n            Предыдущая\r\n          </button>\r\n          {Array.from({ length: totalWarehousePages }, (_, i) => i + 1).map((number) => (\r\n            <button\r\n              key={number}\r\n              onClick={() => paginateWarehouses(number)}\r\n              className={currentWarehousePage === number ? 'active' : ''}\r\n            >\r\n              {number}\r\n            </button>\r\n          ))}\r\n          <button\r\n            onClick={() => paginateWarehouses(currentWarehousePage + 1)}\r\n            disabled={currentWarehousePage === totalWarehousePages}\r\n          >\r\n            Следующая\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Book Distribution Section */}\r\n      <h3>Распределение книг по складам</h3>\r\n      <form onSubmit={handleDistributeBook} className=\"admin-form\">\r\n        <div>\r\n          <select\r\n            name=\"bookId\"\r\n            value={distribution.bookId}\r\n            onChange={handleDistributionChange}\r\n            required\r\n          >\r\n            <option value=\"\">Выберите книгу</option>\r\n            {books.map((book) => (\r\n              <option key={book.id} value={book.id}>\r\n                {book.title}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <select\r\n            name=\"warehouseId\"\r\n            value={distribution.warehouseId}\r\n            onChange={handleDistributionChange}\r\n            required\r\n          >\r\n            <option value=\"\">Выберите склад</option>\r\n            {warehouses.map((warehouse) => (\r\n              <option key={warehouse.id} value={warehouse.id}>\r\n                {warehouse.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"number\"\r\n            name=\"stock\"\r\n            placeholder=\"Количество\"\r\n            value={distribution.stock}\r\n            onChange={handleDistributionChange}\r\n            required\r\n            min=\"1\"\r\n          />\r\n        </div>\r\n        <button type=\"submit\">Распределить</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminPanel;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
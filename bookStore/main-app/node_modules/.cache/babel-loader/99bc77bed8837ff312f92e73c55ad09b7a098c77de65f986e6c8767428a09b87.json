{"ast":null,"code":"var _jsxFileName = \"E:\\\\ZALUPA\\\\ZALUPA\\\\main-app\\\\src\\\\components\\\\admin\\\\AdminPanel.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useBooks } from '../../hooks/useBooks';\nimport { useWarehouses } from '../../hooks/useWarehouses';\nimport { distributeBook } from '../../services/api';\nimport { toast } from 'react-toastify';\nimport './AdminPanel.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminPanel = () => {\n  _s();\n  const {\n    books,\n    fetchBooks,\n    loading: booksLoading,\n    error: booksError,\n    createBook,\n    updateBook,\n    deleteBook\n  } = useBooks();\n  const {\n    warehouses,\n    fetchWarehouses,\n    createNewWarehouse,\n    updateExistingWarehouse,\n    deleteExistingWarehouse,\n    loading: warehousesLoading,\n    error: warehousesError\n  } = useWarehouses();\n  const [newBook, setNewBook] = useState({\n    title: '',\n    author: '',\n    price: '',\n    description: '',\n    publisher: '',\n    publicationYear: '',\n    isbn: '',\n    stock: '',\n    category: ''\n  });\n  const [newWarehouse, setNewWarehouse] = useState({\n    name: '',\n    city: '',\n    street: '',\n    houseNumber: ''\n  });\n  const [distribution, setDistribution] = useState({\n    bookId: '',\n    warehouseId: '',\n    stock: ''\n  });\n  const [coverImage, setCoverImage] = useState(null);\n  const [formErrors, setFormErrors] = useState({});\n  const [warehouseFormErrors, setWarehouseFormErrors] = useState({});\n  const [editingBookId, setEditingBookId] = useState(null);\n  const [editingWarehouseId, setEditingWarehouseId] = useState(null);\n  const [currentBookPage, setCurrentBookPage] = useState(1);\n  const [currentWarehousePage, setCurrentWarehousePage] = useState(1);\n  const itemsPerPage = 5;\n  useEffect(() => {\n    fetchBooks();\n    fetchWarehouses();\n  }, []);\n\n  // Book Form Validation\n  const validateBookForm = () => {\n    const errors = {};\n    if (!newBook.title.trim()) errors.title = 'Название не может быть пустым';\n    if (!newBook.author.trim()) errors.author = 'Автор не может быть пустым';\n    if (!newBook.price || parseFloat(newBook.price) <= 0) errors.price = 'Цена должна быть больше 0';\n    if (!newBook.publicationYear || parseInt(newBook.publicationYear) <= 0) errors.publicationYear = 'Год издания должен быть больше 0';\n    if (newBook.isbn && newBook.isbn.length !== 13) errors.isbn = 'ISBN должен содержать 13 символов';\n    if (!newBook.stock || parseInt(newBook.stock) < 0) errors.stock = 'Количество на складе не может быть меньше 0';\n    if (!newBook.category.trim()) errors.category = 'Категория не может быть пустой';\n    setFormErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  // Warehouse Form Validation\n  const validateWarehouseForm = () => {\n    const errors = {};\n    if (!newWarehouse.name.trim()) errors.name = 'Название склада не может быть пустым';\n    if (!newWarehouse.city.trim()) errors.city = 'Город не может быть пустым';\n    if (!newWarehouse.street.trim()) errors.street = 'Улица не может быть пустой';\n    if (!newWarehouse.houseNumber.trim()) errors.houseNumber = 'Номер дома не может быть пустым';\n    setWarehouseFormErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n  const handleBookInputChange = e => {\n    setNewBook({\n      ...newBook,\n      [e.target.name]: e.target.value\n    });\n    setFormErrors({\n      ...formErrors,\n      [e.target.name]: ''\n    });\n  };\n  const handleWarehouseInputChange = e => {\n    setNewWarehouse({\n      ...newWarehouse,\n      [e.target.name]: e.target.value\n    });\n    setWarehouseFormErrors({\n      ...warehouseFormErrors,\n      [e.target.name]: ''\n    });\n  };\n  const handleDistributionChange = e => {\n    setDistribution({\n      ...distribution,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    if (file && file.type.startsWith('image/') && file.size < 5 * 1024 * 1024) {\n      setCoverImage(file);\n    } else {\n      setCoverImage(null);\n      alert('Пожалуйста, выберите изображение размером менее 5MB');\n    }\n  };\n  const handleAddOrUpdateBook = async e => {\n    e.preventDefault();\n    if (!validateBookForm()) return;\n    const bookData = {\n      ...newBook,\n      price: parseFloat(newBook.price),\n      publicationYear: parseInt(newBook.publicationYear),\n      stock: parseInt(newBook.stock)\n    };\n    try {\n      if (editingBookId) {\n        await updateBook(editingBookId, bookData, coverImage);\n        setEditingBookId(null);\n      } else {\n        await createBook(bookData, coverImage);\n      }\n      setNewBook({\n        title: '',\n        author: '',\n        price: '',\n        description: '',\n        publisher: '',\n        publicationYear: '',\n        isbn: '',\n        stock: '',\n        category: ''\n      });\n      setCoverImage(null);\n      setCurrentBookPage(1);\n      await fetchBooks();\n    } catch (err) {\n      console.error('Ошибка добавления/обновления книги:', err);\n    }\n  };\n  const handleAddOrUpdateWarehouse = async e => {\n    e.preventDefault();\n    if (!validateWarehouseForm()) return;\n    try {\n      if (editingWarehouseId) {\n        await updateExistingWarehouse(editingWarehouseId, newWarehouse);\n        setEditingWarehouseId(null);\n      } else {\n        await createNewWarehouse(newWarehouse);\n      }\n      setNewWarehouse({\n        name: '',\n        city: '',\n        street: '',\n        houseNumber: ''\n      });\n      setCurrentWarehousePage(1);\n      await fetchWarehouses();\n    } catch (err) {\n      console.error('Ошибка добавления/обновления склада:', err);\n    }\n  };\n  const handleDistributeBook = async e => {\n    e.preventDefault();\n    if (!distribution.bookId || !distribution.warehouseId || !distribution.stock || parseInt(distribution.stock) <= 0) {\n      toast.error('Пожалуйста, выберите книгу, склад и укажите количество больше 0');\n      return;\n    }\n    try {\n      await distributeBook(distribution.bookId, distribution.warehouseId, parseInt(distribution.stock));\n      toast.success('Книга успешно распределена на склад!');\n      setDistribution({\n        bookId: '',\n        warehouseId: '',\n        stock: ''\n      });\n      await fetchBooks();\n      await fetchWarehouses();\n    } catch (err) {\n      var _err$response, _err$response$data;\n      toast.error('Ошибка распределения книги: ' + (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Неизвестная ошибка'));\n      console.error(err);\n    }\n  };\n  const handleEditBook = book => {\n    setNewBook({\n      title: book.title,\n      author: book.author,\n      price: book.price.toString(),\n      description: book.description || '',\n      publisher: book.publisher || '',\n      publicationYear: book.publicationYear.toString(),\n      isbn: book.isbn || '',\n      stock: book.stock.toString(),\n      category: book.category\n    });\n    setEditingBookId(book.id);\n    setCoverImage(null);\n  };\n  const handleEditWarehouse = warehouse => {\n    setNewWarehouse({\n      name: warehouse.name,\n      city: warehouse.city,\n      street: warehouse.street,\n      houseNumber: warehouse.houseNumber\n    });\n    setEditingWarehouseId(warehouse.id);\n  };\n  const handleDeleteBook = async id => {\n    if (window.confirm('Вы уверены, что хотите удалить эту книгу?')) {\n      try {\n        await deleteBook(id);\n        setCurrentBookPage(1);\n        await fetchBooks();\n      } catch (err) {\n        console.error('Ошибка удаления книги:', err);\n      }\n    }\n  };\n  const handleDeleteWarehouse = async id => {\n    if (window.confirm('Вы уверены, что хотите удалить этот склад?')) {\n      try {\n        await deleteExistingWarehouse(id);\n        setCurrentWarehousePage(1);\n        await fetchWarehouses();\n      } catch (err) {\n        console.error('Ошибка удаления склада:', err);\n      }\n    }\n  };\n  const handleCancelEditBook = () => {\n    setNewBook({\n      title: '',\n      author: '',\n      price: '',\n      description: '',\n      publisher: '',\n      publicationYear: '',\n      isbn: '',\n      stock: '',\n      category: ''\n    });\n    setCoverImage(null);\n    setEditingBookId(null);\n    setFormErrors({});\n  };\n  const handleCancelEditWarehouse = () => {\n    setNewWarehouse({\n      name: '',\n      city: '',\n      street: '',\n      houseNumber: ''\n    });\n    setEditingWarehouseId(null);\n    setWarehouseFormErrors({});\n  };\n  if (booksLoading || warehousesLoading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"admin-loading\",\n    children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 248,\n    columnNumber: 49\n  }, this);\n  if (booksError) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"admin-error\",\n    children: booksError\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 249,\n    columnNumber: 26\n  }, this);\n  if (warehousesError) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"admin-error\",\n    children: warehousesError\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 250,\n    columnNumber: 31\n  }, this);\n\n  // Book Pagination\n  const indexOfLastBook = currentBookPage * itemsPerPage;\n  const indexOfFirstBook = indexOfLastBook - itemsPerPage;\n  const currentBooks = books.slice(indexOfFirstBook, indexOfLastBook);\n  const totalBookPages = Math.ceil(books.length / itemsPerPage);\n\n  // Warehouse Pagination\n  const indexOfLastWarehouse = currentWarehousePage * itemsPerPage;\n  const indexOfFirstWarehouse = indexOfLastWarehouse - itemsPerPage;\n  const currentWarehouses = warehouses.slice(indexOfFirstWarehouse, indexOfLastWarehouse);\n  const totalWarehousePages = Math.ceil(warehouses.length / itemsPerPage);\n  const paginateBooks = pageNumber => setCurrentBookPage(pageNumber);\n  const paginateWarehouses = pageNumber => setCurrentWarehousePage(pageNumber);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u041F\\u0430\\u043D\\u0435\\u043B\\u044C \\u0443\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043A\\u043D\\u0438\\u0433\\u0430\\u043C\\u0438\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleAddOrUpdateBook,\n      className: \"admin-form\",\n      encType: \"multipart/form-data\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"title\",\n          placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",\n          value: newBook.title,\n          onChange: handleBookInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), formErrors.title && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"admin-error\",\n          children: formErrors.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"author\",\n          placeholder: \"\\u0410\\u0432\\u0442\\u043E\\u0440\",\n          value: newBook.author,\n          onChange: handleBookInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), formErrors.author && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"admin-error\",\n          children: formErrors.author\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          step: \"0.01\",\n          name: \"price\",\n          placeholder: \"\\u0426\\u0435\\u043D\\u0430\",\n          value: newBook.price,\n          onChange: handleBookInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this), formErrors.price && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"admin-error\",\n          children: formErrors.price\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"description\",\n          placeholder: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\",\n          value: newBook.description,\n          onChange: handleBookInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"publisher\",\n          placeholder: \"\\u0418\\u0437\\u0434\\u0430\\u0442\\u0435\\u043B\\u044C\",\n          value: newBook.publisher,\n          onChange: handleBookInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"publicationYear\",\n          placeholder: \"\\u0413\\u043E\\u0434 \\u0438\\u0437\\u0434\\u0430\\u043D\\u0438\\u044F\",\n          value: newBook.publicationYear,\n          onChange: handleBookInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this), formErrors.publicationYear && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"admin-error\",\n          children: formErrors.publicationYear\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 42\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"isbn\",\n          placeholder: \"ISBN (13 \\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u043E\\u0432)\",\n          value: newBook.isbn,\n          onChange: handleBookInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 11\n        }, this), formErrors.isbn && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"admin-error\",\n          children: formErrors.isbn\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"stock\",\n          placeholder: \"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u043D\\u0430 \\u0441\\u043A\\u043B\\u0430\\u0434\\u0435\",\n          value: newBook.stock,\n          onChange: handleBookInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this), formErrors.stock && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"admin-error\",\n          children: formErrors.stock\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"category\",\n          placeholder: \"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\",\n          value: newBook.category,\n          onChange: handleBookInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this), formErrors.category && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"admin-error\",\n          children: formErrors.category\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 35\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          name: \"coverImage\",\n          accept: \"image/*\",\n          onChange: handleFileChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: editingBookId ? 'Обновить книгу' : 'Добавить книгу'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }, this), editingBookId && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleCancelEditBook,\n          className: \"cancel-button\",\n          children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-book-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043A\\u043D\\u0438\\u0433\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 9\n      }, this), currentBooks.map(book => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-book-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [book.title, \" - \", book.author, \" (\", book.price, \" \\u20BD) - \", book.category, \" - \\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E: \", book.stock]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-book-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleEditBook(book),\n            className: \"edit-button\",\n            children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDeleteBook(book.id),\n            className: \"delete-button\",\n            children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 13\n        }, this)]\n      }, book.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagination\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => paginateBooks(currentBookPage - 1),\n          disabled: currentBookPage === 1,\n          children: \"\\u041F\\u0440\\u0435\\u0434\\u044B\\u0434\\u0443\\u0449\\u0430\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 11\n        }, this), Array.from({\n          length: totalBookPages\n        }, (_, i) => i + 1).map(number => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => paginateBooks(number),\n          className: currentBookPage === number ? 'active' : '',\n          children: number\n        }, number, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => paginateBooks(currentBookPage + 1),\n          disabled: currentBookPage === totalBookPages,\n          children: \"\\u0421\\u043B\\u0435\\u0434\\u0443\\u044E\\u0449\\u0430\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0441\\u043A\\u043B\\u0430\\u0434\\u0430\\u043C\\u0438\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleAddOrUpdateWarehouse,\n      className: \"admin-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"name\",\n          placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0441\\u043A\\u043B\\u0430\\u0434\\u0430\",\n          value: newWarehouse.name,\n          onChange: handleWarehouseInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 11\n        }, this), warehouseFormErrors.name && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"admin-error\",\n          children: warehouseFormErrors.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 40\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"city\",\n          placeholder: \"\\u0413\\u043E\\u0440\\u043E\\u0434\",\n          value: newWarehouse.city,\n          onChange: handleWarehouseInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 11\n        }, this), warehouseFormErrors.city && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"admin-error\",\n          children: warehouseFormErrors.city\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 40\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"street\",\n          placeholder: \"\\u0423\\u043B\\u0438\\u0446\\u0430\",\n          value: newWarehouse.street,\n          onChange: handleWarehouseInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 11\n        }, this), warehouseFormErrors.street && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"admin-error\",\n          children: warehouseFormErrors.street\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 42\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"houseNumber\",\n          placeholder: \"\\u041D\\u043E\\u043C\\u0435\\u0440 \\u0434\\u043E\\u043C\\u0430\",\n          value: newWarehouse.houseNumber,\n          onChange: handleWarehouseInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 11\n        }, this), warehouseFormErrors.houseNumber && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"admin-error\",\n          children: warehouseFormErrors.houseNumber\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 47\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: editingWarehouseId ? 'Обновить склад' : 'Добавить склад'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 11\n        }, this), editingWarehouseId && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleCancelEditWarehouse,\n          className: \"cancel-button\",\n          children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-warehouse-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u0441\\u043A\\u043B\\u0430\\u0434\\u043E\\u0432\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 9\n      }, this), currentWarehouses.map(warehouse => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-warehouse-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [warehouse.name, \" - \", warehouse.city, \", \", warehouse.street, \", \", warehouse.houseNumber]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 490,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-warehouse-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleEditWarehouse(warehouse),\n            className: \"edit-button\",\n            children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDeleteWarehouse(warehouse.id),\n            className: \"delete-button\",\n            children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 13\n        }, this)]\n      }, warehouse.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 489,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagination\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => paginateWarehouses(currentWarehousePage - 1),\n          disabled: currentWarehousePage === 1,\n          children: \"\\u041F\\u0440\\u0435\\u0434\\u044B\\u0434\\u0443\\u0449\\u0430\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 11\n        }, this), Array.from({\n          length: totalWarehousePages\n        }, (_, i) => i + 1).map(number => /*#__PURE__*/_jsxDEV(\"button\", {\n          onChange: () => paginateWarehouses(number),\n          className: currentWarehousePage === number ? 'active' : '',\n          children: number\n        }, number, false, {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => paginateWarehouses(currentWarehousePage + 1),\n          disabled: currentWarehousePage === totalWarehousePages,\n          children: \"\\u0421\\u043B\\u0435\\u0434\\u0443\\u044E\\u0449\\u0430\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"\\u0420\\u0430\\u0441\\u043F\\u0440\\u0435\\u0434\\u0435\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043A\\u043D\\u0438\\u0433 \\u043F\\u043E \\u0441\\u043A\\u043B\\u0430\\u0434\\u0430\\u043C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 529,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleDistributeBook,\n      className: \"admin-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"bookId\",\n          value: distribution.bookId,\n          onChange: handleDistributionChange,\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043A\\u043D\\u0438\\u0433\\u0443\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 13\n          }, this), books.map(book => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: book.id,\n            children: book.title\n          }, book.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 540,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"warehouseId\",\n          value: distribution.warehouseId,\n          onChange: handleDistributionChange,\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0441\\u043A\\u043B\\u0430\\u0434\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 553,\n            columnNumber: 13\n          }, this), warehouses.map(warehouse => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: warehouse.id,\n            children: [warehouse.name, \" (\", warehouse.city, \", \", warehouse.street, \", \", warehouse.houseNumber, \")\"]\n          }, warehouse.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 555,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 547,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"stock\",\n          placeholder: \"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E\",\n          value: distribution.stock,\n          onChange: handleDistributionChange,\n          required: true,\n          min: \"1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 561,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"\\u0420\\u0430\\u0441\\u043F\\u0440\\u0435\\u0434\\u0435\\u043B\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 572,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 530,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 268,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminPanel, \"qhcZes4GENe5F0SEB2a0sqROxo4=\", false, function () {\n  return [useBooks, useWarehouses];\n});\n_c = AdminPanel;\nexport default AdminPanel;\nvar _c;\n$RefreshReg$(_c, \"AdminPanel\");","map":{"version":3,"names":["React","useState","useEffect","useBooks","useWarehouses","distributeBook","toast","jsxDEV","_jsxDEV","AdminPanel","_s","books","fetchBooks","loading","booksLoading","error","booksError","createBook","updateBook","deleteBook","warehouses","fetchWarehouses","createNewWarehouse","updateExistingWarehouse","deleteExistingWarehouse","warehousesLoading","warehousesError","newBook","setNewBook","title","author","price","description","publisher","publicationYear","isbn","stock","category","newWarehouse","setNewWarehouse","name","city","street","houseNumber","distribution","setDistribution","bookId","warehouseId","coverImage","setCoverImage","formErrors","setFormErrors","warehouseFormErrors","setWarehouseFormErrors","editingBookId","setEditingBookId","editingWarehouseId","setEditingWarehouseId","currentBookPage","setCurrentBookPage","currentWarehousePage","setCurrentWarehousePage","itemsPerPage","validateBookForm","errors","trim","parseFloat","parseInt","length","Object","keys","validateWarehouseForm","handleBookInputChange","e","target","value","handleWarehouseInputChange","handleDistributionChange","handleFileChange","file","files","type","startsWith","size","alert","handleAddOrUpdateBook","preventDefault","bookData","err","console","handleAddOrUpdateWarehouse","handleDistributeBook","success","_err$response","_err$response$data","response","data","message","handleEditBook","book","toString","id","handleEditWarehouse","warehouse","handleDeleteBook","window","confirm","handleDeleteWarehouse","handleCancelEditBook","handleCancelEditWarehouse","className","children","fileName","_jsxFileName","lineNumber","columnNumber","indexOfLastBook","indexOfFirstBook","currentBooks","slice","totalBookPages","Math","ceil","indexOfLastWarehouse","indexOfFirstWarehouse","currentWarehouses","totalWarehousePages","paginateBooks","pageNumber","paginateWarehouses","onSubmit","encType","placeholder","onChange","required","step","accept","onClick","map","disabled","Array","from","_","i","number","min","_c","$RefreshReg$"],"sources":["E:/ZALUPA/ZALUPA/main-app/src/components/admin/AdminPanel.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useBooks } from '../../hooks/useBooks';\r\nimport { useWarehouses } from '../../hooks/useWarehouses';\r\nimport { distributeBook } from '../../services/api';\r\nimport { toast } from 'react-toastify';\r\nimport './AdminPanel.css';\r\n\r\nconst AdminPanel = () => {\r\n  const { books, fetchBooks, loading: booksLoading, error: booksError, createBook, updateBook, deleteBook } = useBooks();\r\n  const { warehouses, fetchWarehouses, createNewWarehouse, updateExistingWarehouse, deleteExistingWarehouse, loading: warehousesLoading, error: warehousesError } = useWarehouses();\r\n\r\n  const [newBook, setNewBook] = useState({\r\n    title: '',\r\n    author: '',\r\n    price: '',\r\n    description: '',\r\n    publisher: '',\r\n    publicationYear: '',\r\n    isbn: '',\r\n    stock: '',\r\n    category: '',\r\n  });\r\n\r\n  const [newWarehouse, setNewWarehouse] = useState({\r\n    name: '',\r\n    city: '',\r\n    street: '',\r\n    houseNumber: ''\r\n  });\r\n\r\n  const [distribution, setDistribution] = useState({\r\n    bookId: '',\r\n    warehouseId: '',\r\n    stock: ''\r\n  });\r\n\r\n  const [coverImage, setCoverImage] = useState(null);\r\n  const [formErrors, setFormErrors] = useState({});\r\n  const [warehouseFormErrors, setWarehouseFormErrors] = useState({});\r\n  const [editingBookId, setEditingBookId] = useState(null);\r\n  const [editingWarehouseId, setEditingWarehouseId] = useState(null);\r\n  const [currentBookPage, setCurrentBookPage] = useState(1);\r\n  const [currentWarehousePage, setCurrentWarehousePage] = useState(1);\r\n  const itemsPerPage = 5;\r\n\r\n  useEffect(() => {\r\n    fetchBooks();\r\n    fetchWarehouses();\r\n  }, []);\r\n\r\n  // Book Form Validation\r\n  const validateBookForm = () => {\r\n    const errors = {};\r\n    if (!newBook.title.trim()) errors.title = 'Название не может быть пустым';\r\n    if (!newBook.author.trim()) errors.author = 'Автор не может быть пустым';\r\n    if (!newBook.price || parseFloat(newBook.price) <= 0) errors.price = 'Цена должна быть больше 0';\r\n    if (!newBook.publicationYear || parseInt(newBook.publicationYear) <= 0) errors.publicationYear = 'Год издания должен быть больше 0';\r\n    if (newBook.isbn && newBook.isbn.length !== 13) errors.isbn = 'ISBN должен содержать 13 символов';\r\n    if (!newBook.stock || parseInt(newBook.stock) < 0) errors.stock = 'Количество на складе не может быть меньше 0';\r\n    if (!newBook.category.trim()) errors.category = 'Категория не может быть пустой';\r\n    setFormErrors(errors);\r\n    return Object.keys(errors).length === 0;\r\n  };\r\n\r\n  // Warehouse Form Validation\r\n  const validateWarehouseForm = () => {\r\n    const errors = {};\r\n    if (!newWarehouse.name.trim()) errors.name = 'Название склада не может быть пустым';\r\n    if (!newWarehouse.city.trim()) errors.city = 'Город не может быть пустым';\r\n    if (!newWarehouse.street.trim()) errors.street = 'Улица не может быть пустой';\r\n    if (!newWarehouse.houseNumber.trim()) errors.houseNumber = 'Номер дома не может быть пустым';\r\n    setWarehouseFormErrors(errors);\r\n    return Object.keys(errors).length === 0;\r\n  };\r\n\r\n  const handleBookInputChange = (e) => {\r\n    setNewBook({ ...newBook, [e.target.name]: e.target.value });\r\n    setFormErrors({ ...formErrors, [e.target.name]: '' });\r\n  };\r\n\r\n  const handleWarehouseInputChange = (e) => {\r\n    setNewWarehouse({ ...newWarehouse, [e.target.name]: e.target.value });\r\n    setWarehouseFormErrors({ ...warehouseFormErrors, [e.target.name]: '' });\r\n  };\r\n\r\n  const handleDistributionChange = (e) => {\r\n    setDistribution({ ...distribution, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file && file.type.startsWith('image/') && file.size < 5 * 1024 * 1024) {\r\n      setCoverImage(file);\r\n    } else {\r\n      setCoverImage(null);\r\n      alert('Пожалуйста, выберите изображение размером менее 5MB');\r\n    }\r\n  };\r\n\r\n  const handleAddOrUpdateBook = async (e) => {\r\n    e.preventDefault();\r\n    if (!validateBookForm()) return;\r\n\r\n    const bookData = {\r\n      ...newBook,\r\n      price: parseFloat(newBook.price),\r\n      publicationYear: parseInt(newBook.publicationYear),\r\n      stock: parseInt(newBook.stock),\r\n    };\r\n\r\n    try {\r\n      if (editingBookId) {\r\n        await updateBook(editingBookId, bookData, coverImage);\r\n        setEditingBookId(null);\r\n      } else {\r\n        await createBook(bookData, coverImage);\r\n      }\r\n      setNewBook({\r\n        title: '',\r\n        author: '',\r\n        price: '',\r\n        description: '',\r\n        publisher: '',\r\n        publicationYear: '',\r\n        isbn: '',\r\n        stock: '',\r\n        category: '',\r\n      });\r\n      setCoverImage(null);\r\n      setCurrentBookPage(1);\r\n      await fetchBooks();\r\n    } catch (err) {\r\n      console.error('Ошибка добавления/обновления книги:', err);\r\n    }\r\n  };\r\n\r\n  const handleAddOrUpdateWarehouse = async (e) => {\r\n    e.preventDefault();\r\n    if (!validateWarehouseForm()) return;\r\n\r\n    try {\r\n      if (editingWarehouseId) {\r\n        await updateExistingWarehouse(editingWarehouseId, newWarehouse);\r\n        setEditingWarehouseId(null);\r\n      } else {\r\n        await createNewWarehouse(newWarehouse);\r\n      }\r\n      setNewWarehouse({ name: '', city: '', street: '', houseNumber: '' });\r\n      setCurrentWarehousePage(1);\r\n      await fetchWarehouses();\r\n    } catch (err) {\r\n      console.error('Ошибка добавления/обновления склада:', err);\r\n    }\r\n  };\r\n\r\n  const handleDistributeBook = async (e) => {\r\n    e.preventDefault();\r\n    if (!distribution.bookId || !distribution.warehouseId || !distribution.stock || parseInt(distribution.stock) <= 0) {\r\n      toast.error('Пожалуйста, выберите книгу, склад и укажите количество больше 0');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await distributeBook(distribution.bookId, distribution.warehouseId, parseInt(distribution.stock));\r\n      toast.success('Книга успешно распределена на склад!');\r\n      setDistribution({ bookId: '', warehouseId: '', stock: '' });\r\n      await fetchBooks();\r\n      await fetchWarehouses();\r\n    } catch (err) {\r\n      toast.error('Ошибка распределения книги: ' + (err.response?.data?.message || 'Неизвестная ошибка'));\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const handleEditBook = (book) => {\r\n    setNewBook({\r\n      title: book.title,\r\n      author: book.author,\r\n      price: book.price.toString(),\r\n      description: book.description || '',\r\n      publisher: book.publisher || '',\r\n      publicationYear: book.publicationYear.toString(),\r\n      isbn: book.isbn || '',\r\n      stock: book.stock.toString(),\r\n      category: book.category,\r\n    });\r\n    setEditingBookId(book.id);\r\n    setCoverImage(null);\r\n  };\r\n\r\n  const handleEditWarehouse = (warehouse) => {\r\n    setNewWarehouse({\r\n      name: warehouse.name,\r\n      city: warehouse.city,\r\n      street: warehouse.street,\r\n      houseNumber: warehouse.houseNumber,\r\n    });\r\n    setEditingWarehouseId(warehouse.id);\r\n  };\r\n\r\n  const handleDeleteBook = async (id) => {\r\n    if (window.confirm('Вы уверены, что хотите удалить эту книгу?')) {\r\n      try {\r\n        await deleteBook(id);\r\n        setCurrentBookPage(1);\r\n        await fetchBooks();\r\n      } catch (err) {\r\n        console.error('Ошибка удаления книги:', err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleDeleteWarehouse = async (id) => {\r\n    if (window.confirm('Вы уверены, что хотите удалить этот склад?')) {\r\n      try {\r\n        await deleteExistingWarehouse(id);\r\n        setCurrentWarehousePage(1);\r\n        await fetchWarehouses();\r\n      } catch (err) {\r\n        console.error('Ошибка удаления склада:', err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleCancelEditBook = () => {\r\n    setNewBook({\r\n      title: '',\r\n      author: '',\r\n      price: '',\r\n      description: '',\r\n      publisher: '',\r\n      publicationYear: '',\r\n      isbn: '',\r\n      stock: '',\r\n      category: '',\r\n    });\r\n    setCoverImage(null);\r\n    setEditingBookId(null);\r\n    setFormErrors({});\r\n  };\r\n\r\n  const handleCancelEditWarehouse = () => {\r\n    setNewWarehouse({ name: '', city: '', street: '', houseNumber: '' });\r\n    setEditingWarehouseId(null);\r\n    setWarehouseFormErrors({});\r\n  };\r\n\r\n  if (booksLoading || warehousesLoading) return <p className=\"admin-loading\">Загрузка...</p>;\r\n  if (booksError) return <p className=\"admin-error\">{booksError}</p>;\r\n  if (warehousesError) return <p className=\"admin-error\">{warehousesError}</p>;\r\n\r\n  // Book Pagination\r\n  const indexOfLastBook = currentBookPage * itemsPerPage;\r\n  const indexOfFirstBook = indexOfLastBook - itemsPerPage;\r\n  const currentBooks = books.slice(indexOfFirstBook, indexOfLastBook);\r\n  const totalBookPages = Math.ceil(books.length / itemsPerPage);\r\n\r\n  // Warehouse Pagination\r\n  const indexOfLastWarehouse = currentWarehousePage * itemsPerPage;\r\n  const indexOfFirstWarehouse = indexOfLastWarehouse - itemsPerPage;\r\n  const currentWarehouses = warehouses.slice(indexOfFirstWarehouse, indexOfLastWarehouse);\r\n  const totalWarehousePages = Math.ceil(warehouses.length / itemsPerPage);\r\n\r\n  const paginateBooks = (pageNumber) => setCurrentBookPage(pageNumber);\r\n  const paginateWarehouses = (pageNumber) => setCurrentWarehousePage(pageNumber);\r\n\r\n  return (\r\n    <div className=\"admin-container\">\r\n      <h2>Панель управления</h2>\r\n\r\n      {/* Book Management Section */}\r\n      <h3>Управление книгами</h3>\r\n      <form onSubmit={handleAddOrUpdateBook} className=\"admin-form\" encType=\"multipart/form-data\">\r\n        <div>\r\n          <input\r\n            type=\"text\"\r\n            name=\"title\"\r\n            placeholder=\"Название\"\r\n            value={newBook.title}\r\n            onChange={handleBookInputChange}\r\n            required\r\n          />\r\n          {formErrors.title && <p className=\"admin-error\">{formErrors.title}</p>}\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"text\"\r\n            name=\"author\"\r\n            placeholder=\"Автор\"\r\n            value={newBook.author}\r\n            onChange={handleBookInputChange}\r\n            required\r\n          />\r\n          {formErrors.author && <p className=\"admin-error\">{formErrors.author}</p>}\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"number\"\r\n            step=\"0.01\"\r\n            name=\"price\"\r\n            placeholder=\"Цена\"\r\n            value={newBook.price}\r\n            onChange={handleBookInputChange}\r\n            required\r\n          />\r\n          {formErrors.price && <p className=\"admin-error\">{formErrors.price}</p>}\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"text\"\r\n            name=\"description\"\r\n            placeholder=\"Описание\"\r\n            value={newBook.description}\r\n            onChange={handleBookInputChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"text\"\r\n            name=\"publisher\"\r\n            placeholder=\"Издатель\"\r\n            value={newBook.publisher}\r\n            onChange={handleBookInputChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"number\"\r\n            name=\"publicationYear\"\r\n            placeholder=\"Год издания\"\r\n            value={newBook.publicationYear}\r\n            onChange={handleBookInputChange}\r\n            required\r\n          />\r\n          {formErrors.publicationYear && <p className=\"admin-error\">{formErrors.publicationYear}</p>}\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"text\"\r\n            name=\"isbn\"\r\n            placeholder=\"ISBN (13 символов)\"\r\n            value={newBook.isbn}\r\n            onChange={handleBookInputChange}\r\n          />\r\n          {formErrors.isbn && <p className=\"admin-error\">{formErrors.isbn}</p>}\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"number\"\r\n            name=\"stock\"\r\n            placeholder=\"Количество на складе\"\r\n            value={newBook.stock}\r\n            onChange={handleBookInputChange}\r\n            required\r\n          />\r\n          {formErrors.stock && <p className=\"admin-error\">{formErrors.stock}</p>}\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"text\"\r\n            name=\"category\"\r\n            placeholder=\"Категория\"\r\n            value={newBook.category}\r\n            onChange={handleBookInputChange}\r\n            required\r\n          />\r\n          {formErrors.category && <p className=\"admin-error\">{formErrors.category}</p>}\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"file\"\r\n            name=\"coverImage\"\r\n            accept=\"image/*\"\r\n            onChange={handleFileChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-buttons\">\r\n          <button type=\"submit\">{editingBookId ? 'Обновить книгу' : 'Добавить книгу'}</button>\r\n          {editingBookId && (\r\n            <button type=\"button\" onClick={handleCancelEditBook} className=\"cancel-button\">\r\n              Отмена\r\n            </button>\r\n          )}\r\n        </div>\r\n      </form>\r\n\r\n      <div className=\"admin-book-list\">\r\n        <h4>Список книг</h4>\r\n        {currentBooks.map((book) => (\r\n          <div key={book.id} className=\"admin-book-item\">\r\n            <p>\r\n              {book.title} - {book.author} ({book.price} ₽) - {book.category} - Количество: {book.stock}\r\n            </p>\r\n            <div className=\"admin-book-actions\">\r\n              <button onClick={() => handleEditBook(book)} className=\"edit-button\">\r\n                Редактировать\r\n              </button>\r\n              <button onClick={() => handleDeleteBook(book.id)} className=\"delete-button\">\r\n                Удалить\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n        <div className=\"pagination\">\r\n          <button\r\n            onClick={() => paginateBooks(currentBookPage - 1)}\r\n            disabled={currentBookPage === 1}\r\n          >\r\n            Предыдущая\r\n          </button>\r\n          {Array.from({ length: totalBookPages }, (_, i) => i + 1).map((number) => (\r\n            <button\r\n              key={number}\r\n              onClick={() => paginateBooks(number)}\r\n              className={currentBookPage === number ? 'active' : ''}\r\n            >\r\n              {number}\r\n            </button>\r\n          ))}\r\n          <button\r\n            onClick={() => paginateBooks(currentBookPage + 1)}\r\n            disabled={currentBookPage === totalBookPages}\r\n          >\r\n            Следующая\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Warehouse Management Section */}\r\n      <h3>Управление складами</h3>\r\n      <form onSubmit={handleAddOrUpdateWarehouse} className=\"admin-form\">\r\n        <div>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            placeholder=\"Название склада\"\r\n            value={newWarehouse.name}\r\n            onChange={handleWarehouseInputChange}\r\n            required\r\n          />\r\n          {warehouseFormErrors.name && <p className=\"admin-error\">{warehouseFormErrors.name}</p>}\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"text\"\r\n            name=\"city\"\r\n            placeholder=\"Город\"\r\n            value={newWarehouse.city}\r\n            onChange={handleWarehouseInputChange}\r\n            required\r\n          />\r\n          {warehouseFormErrors.city && <p className=\"admin-error\">{warehouseFormErrors.city}</p>}\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"text\"\r\n            name=\"street\"\r\n            placeholder=\"Улица\"\r\n            value={newWarehouse.street}\r\n            onChange={handleWarehouseInputChange}\r\n            required\r\n          />\r\n          {warehouseFormErrors.street && <p className=\"admin-error\">{warehouseFormErrors.street}</p>}\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"text\"\r\n            name=\"houseNumber\"\r\n            placeholder=\"Номер дома\"\r\n            value={newWarehouse.houseNumber}\r\n            onChange={handleWarehouseInputChange}\r\n            required\r\n          />\r\n          {warehouseFormErrors.houseNumber && <p className=\"admin-error\">{warehouseFormErrors.houseNumber}</p>}\r\n        </div>\r\n        <div className=\"form-buttons\">\r\n          <button type=\"submit\">{editingWarehouseId ? 'Обновить склад' : 'Добавить склад'}</button>\r\n          {editingWarehouseId && (\r\n            <button type=\"button\" onClick={handleCancelEditWarehouse} className=\"cancel-button\">\r\n              Отмена\r\n            </button>\r\n          )}\r\n        </div>\r\n      </form>\r\n\r\n      <div className=\"admin-warehouse-list\">\r\n        <h4>Список складов</h4>\r\n        {currentWarehouses.map((warehouse) => (\r\n          <div key={warehouse.id} className=\"admin-warehouse-item\">\r\n            <p>\r\n              {warehouse.name} - {warehouse.city}, {warehouse.street}, {warehouse.houseNumber}\r\n            </p>\r\n            <div className=\"admin-warehouse-actions\">\r\n              <button onClick={() => handleEditWarehouse(warehouse)} className=\"edit-button\">\r\n                Редактировать\r\n              </button>\r\n              <button onClick={() => handleDeleteWarehouse(warehouse.id)} className=\"delete-button\">\r\n                Удалить\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n        <div className=\"pagination\">\r\n          <button\r\n            onClick={() => paginateWarehouses(currentWarehousePage - 1)}\r\n            disabled={currentWarehousePage === 1}\r\n          >\r\n            Предыдущая\r\n          </button>\r\n          {Array.from({ length: totalWarehousePages }, (_, i) => i + 1).map((number) => (\r\n            <button\r\n              key={number}\r\n              onChange={() => paginateWarehouses(number)}\r\n              className={currentWarehousePage === number ? 'active' : ''}\r\n            >\r\n              {number}\r\n            </button>\r\n          ))}\r\n          <button\r\n            onClick={() => paginateWarehouses(currentWarehousePage + 1)}\r\n            disabled={currentWarehousePage === totalWarehousePages}\r\n          >\r\n            Следующая\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Book Distribution Section */}\r\n      <h3>Распределение книг по складам</h3>\r\n      <form onSubmit={handleDistributeBook} className=\"admin-form\">\r\n        <div>\r\n          <select\r\n            name=\"bookId\"\r\n            value={distribution.bookId}\r\n            onChange={handleDistributionChange}\r\n            required\r\n          >\r\n            <option value=\"\">Выберите книгу</option>\r\n            {books.map((book) => (\r\n              <option key={book.id} value={book.id}>\r\n                {book.title}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <select\r\n            name=\"warehouseId\"\r\n            value={distribution.warehouseId}\r\n            onChange={handleDistributionChange}\r\n            required\r\n          >\r\n            <option value=\"\">Выберите склад</option>\r\n            {warehouses.map((warehouse) => (\r\n              <option key={warehouse.id} value={warehouse.id}>\r\n                {warehouse.name} ({warehouse.city}, {warehouse.street}, {warehouse.houseNumber})\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"number\"\r\n            name=\"stock\"\r\n            placeholder=\"Количество\"\r\n            value={distribution.stock}\r\n            onChange={handleDistributionChange}\r\n            required\r\n            min=\"1\"\r\n          />\r\n        </div>\r\n        <button type=\"submit\">Распределить</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminPanel;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}